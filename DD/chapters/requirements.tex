\section{Requirement Traceability}

\begin{itemize}
\item \textbf{[GOAL1]} Driver must log in the System 
	\begin{itemize}
	\item When the Driver logs in the System using his credentials the App or the Web Portal communicate with the Router which calls the interface on the Authorization Manager to check credentials and eventually authorize the Driver.
	\end{itemize}
\item \textbf{[GOAL2]} Allow drivers to reserve a car up to one hour before they pick it up
	\begin{itemize}
	\item The App provides a UI with a map to select the car to reserve;
	\item Once the car is selected a request is sent to the Router which, in turn, sends it to the Drive Manager. The Drive manager calls the Payment Manager to pre-authorize the security amount and the Vehicle Manager to update the status of the car;
	\item Once the Drive ends another message is sent to the Drive Manager through the Router. The Payment Manager makes the user pay and the status of the car is reset by the Vehicle Manager.
	\end{itemize}
\item \textbf{[GOAL3]} Allow drivers to open the reserved car
	\begin{itemize}
	\item While the Driver reaches the car the App checks if his position is in a certain range from the reserved car. If he is nearby an unlock button is automatically shown. Clicking the button the Driver sends a request which is routed to the Drive Manager and the Vehicle Manager. Finally the Vehicle Manager sends the unlock command to the car.
	\end{itemize}
\item \textbf{[GOAL4]} Allow drivers to pay correctly for the service
	\begin{itemize}
	\item When the Drive ends the car sends the recorded data to the Router which passes it to the Drive Manager to compute the correct amount. Then the Payment Manager is called to charge the Driver's credit card.
	\end{itemize}
\item \textbf{[GOAL5]} Allow drivers to cancel a reservation
	\begin{itemize}
	\item The App shows a button to cancel the reservation. As always a request is sent and the reservation is deleted from the model. According to our policy, no fee is charged if the Driver cancels the reservation within an hour.
	\end{itemize}
\item \textbf{[GOAL50]} Worker must log in the system
	\begin{itemize}
	\item The Worker logs in the System using his credentials;
	\item The App communicates with the Router which calls the interface on the Authorization Manager to check credentials and eventually authorize the Worker.
	\end{itemize}
\item \textbf{[GOAL51]} Dispatch tasks to workers
	\begin{itemize}
	\item When a Task is needed the System creates it calling the Task Manager from the Router (using RouterVehicleInt if the malfunction is detected by the car or RouterDriverInt if the report is generated by the user). When the Task is created the Task Manager assigns the most suitable Worker to the Task.
	\end{itemize}
\item \textbf{[GOAL52]} Allow workers to get informations about an assigned task
	\begin{itemize}
	\item The Task Manager takes care of this, requesting car infos to the Vehicle Manager through the dedicated interface.
	\end{itemize}
\item \textbf{[GOAL53]} Allow workers to open and control the assigned car
	\begin{itemize}
	\item The Authorization Manager is responsible to provide to the Worker the correct privileges. 
	\end{itemize}
\item \textbf{[GOAL54]} Allow workers to update the state of the task (assigned, in progress, done)
	\begin{itemize}
	\item This functionality is provided by the interface RouterWorkerInt on the Router which in turn calls the Task Manager interface to update the state of the task.
	\end{itemize}
\item \textbf{[GOAL100]} Log in the administration console
	\begin{itemize}
	\item The Authorization Manager provides that functionality when called by the dedicated RouterAdminInt on the Router.
	\end{itemize}
\item \textbf{[GOAL101]} Allow to register new workers
	\begin{itemize}
	\item The RouterAdminInt provides functionalities to manage Workers.
	\end{itemize}
\item \textbf{[GOAL102]} Allow to view the status of a specific vehicle
	\begin{itemize}
	\item The RouterAdminInt provides functionalities to get statistics and information on Cars, Drivers and Workers.
	\end{itemize}
\item \textbf{[GOAL103]} Allow to request an exceptional task on a specific vehicle
	\begin{itemize}
	\item The RouterAdminInt provides the possibility to create new tasks.
	\end{itemize}
\end{itemize}