\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\subsection{Router, AuthorizationManager}

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{login(data)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  Data parameter contains an inexistent username  & An InvalidArgumentException is raised \\
   \hline
    Data parameter contains empty username or password & An InvalidArgumentException is raised \\
   \hline
  Data parameter contains a valid username but password does not correspond & Returns False \\
  \hline
  Data parameter contains valid username and password corresponds & Returns True \\
  \hline
\end{tabular} 

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{logout(data)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  Data parameter contains an inexistent username  & An InvalidArgumentException is raised \\
   \hline
    Data parameter contains empty username & An InvalidArgumentException is raised \\
  \hline
  Data parameter contains valid username & Current session is deleted \\
  \hline
\end{tabular} 

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{signup(data)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
     \hline
    Data parameter contains empty username or password & An InvalidArgumentException is raised \\
  \hline
  Data parameter contains a username which does not comply with the regular expression & An InvalidArgumentException is raised \\
  \hline
  Data parameter contains valid username and password & Returns True \\
  \hline
\end{tabular} 

\subsection{DriveManager, VehicleManager}

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{reserve(user, vehicle)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  An inexistent Vehicle ID  & An InvalidArgumentException is raised \\
  \hline
  A "busy" Vehicle ID & A StateException is raised \\
    \hline
  The ID of a user who has another active reservation & An invalidUserException is raised \\
  \hline
  Formally valid argument & The state of the vehicle is set to "busy" \\
  \hline
\end{tabular} 

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{cancel(reservation)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  An inexistent Reservation ID & An InvalidArgumentException is raised \\
  \hline
  Formally valid argument & The Reservation is removed from the database \\
  \hline
\end{tabular} 

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{start(reservation)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  An inexistent Reservation ID & An InvalidArgumentException is raised \\
  \hline
  Formally valid argument & The state of the Reservation is updated and a new Drive entry is created \\
  \hline
\end{tabular} 

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{stop(drive)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  An inexistent Drive ID & An InvalidArgumentException is raised \\
  \hline
  Formally valid argument & The state of the Drive and the respective Reservation are updated  \\
  \hline
\end{tabular} 

\subsection{DriveManager, PaymentManger}

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{reserve(user, vehicle)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  An inexistent user ID  & An InvalidArgumentException is raised \\
  \hline
  The ID of a user who has another active reservation & An invalidUserException is raised \\
  \hline
  Formally valid argument & A fixed amount is pre-authorized from the user's credit card \\
  \hline
\end{tabular} 

TODO manca check availability

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{stop(drive)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  An inexistent Drive ID & An InvalidArgumentException is raised \\
  \hline
  Formally valid argument & The right amount is charged on the user's credit card  \\
  \hline
\end{tabular} 

\subsection{TaskManager, VehicleManger}

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{makeReport(data)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  Data parameter contains an inexistent vehicle ID & An InvalidArgumentException is raised \\
  \hline
  Formally valid argument & A new report is created and the state of the respective vehicle is updated \\
  \hline
\end{tabular} 

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{makeTask(data)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  Data parameter contains an inexistent vehicle ID & An InvalidArgumentException is raised \\
  \hline
  Formally valid argument & A new task is created and the state of the respective vehicle is updated \\
  \hline
\end{tabular} 

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{updateTask(task, state)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  State parameter contains an inexistent state & An InvalidArgumentException is raised \\
  \hline
    Task parameter contains an inexistent task ID & An InvalidArgumentException is raised \\
  \hline
  Formally valid argument & The state of the task is updated, and eventually the state of the respective vehicle is updated \\
  \hline
\end{tabular} 

\subsection{Router, DriveManager}

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{reserve(request)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  Request parameter contains an inexistent User ID & An InvalidArgumentException is raised \\
  \hline
  Request parameter contains an inexistent Vehicle ID & An InvalidArgumentException is raised \\
  \hline
  Formally valid argument & A new Reservation is created \\
  \hline
\end{tabular} 

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{unlock(request)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  Request parameter contains an inexistent Vehicle ID & An InvalidArgumentException is raised \\
  \hline
  Formally valid argument & An unlock command is sent to the vehicle \\
  \hline
\end{tabular} 

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{cancel(request)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  Request parameter contains an inexistent Reservation ID & an InvalidArgumentException is raised \\
  \hline
  Formally valid argument & The Reservation is cancelled \\
  \hline
\end{tabular} 

\subsection{Router, VehicleManager}

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{endDrive(request)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  Request parameter contains an inexistent Drive ID & an InvalidArgumentException is raised \\
  \hline
  Formally valid argument & The Drive is stopped and the Vehicle status is updated \\
  \hline
\end{tabular} 

\subsection{Router, TaskManager}

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{report(request)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  Request parameter contains an inexistent Vehicle ID & an InvalidArgumentException is raised \\
  \hline
  Formally valid argument & A Report is created \\
  \hline
\end{tabular} 

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{changeMyState(request) (for Workers only)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  Request parameter contains an inexistent Worker ID & an InvalidArgumentException is raised \\
  \hline
  Formally valid argument & The state of the Worker is updated \\
  \hline
\end{tabular} 

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{updateTask(request) (for Workers only)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  Request parameter contains an inexistent Task ID & an InvalidArgumentException is raised \\
  \hline
  Formally valid argument & The state of the Task is updated \\
  \hline
\end{tabular} 

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{manageWorker(worker, data) (for Admins only)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  Request parameter contains an inexistent Worker ID & An InvalidArgumentException is raised \\
  \hline
  Formally valid argument & ??? \\
  \hline
\end{tabular} 

\bigbreak

\begin{tabular} {| L{7cm} | L{7cm} |}
  \hline
  \multicolumn{2}{|c|}{makeTask() (for Admins only)} \\
  \hline
  \textit{Input} & \textit{Effect} \\
  \hline
  A null parameter & A NullArgumentException is raised \\
  \hline
  Formally valid argument & A new Task is created \\
  \hline
\end{tabular} 


